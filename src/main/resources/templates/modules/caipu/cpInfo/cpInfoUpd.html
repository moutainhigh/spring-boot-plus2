<!DOCTYPE html>
<html xmlns:th="http://www.springframework.org/schema/jdbc">
<head>
    <meta charset="utf-8">
    <title>用户--添加</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="/components/layuiadmin/layui/src/css/layui.css">
    <script src="/components/layuiadmin/layui/src/layui.js"></script>
    <script src='/base/js/jquery-3.4.1.js'></script>
    <script src="/base/js/app.js"></script>
</head>
<body>

<div class="layui-form" lay-filter="layuiadmin-app-form-list" id="layuiadmin-app-form-list" style="padding: 20px 30px 0 0;">

    
 <div class="layui-form-item">
        <label class="layui-form-label">源站原始id</label>
        <div class="layui-input-inline">
            <input type="text" id="did" name="did" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">分类</label>
        <div class="layui-input-inline">
            <input type="text" id="cid" name="cid" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">主分类</label>
        <div class="layui-input-inline">
            <input type="text" id="zid" name="zid" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">菜谱标题</label>
        <div class="layui-input-inline">
            <input type="text" id="title" name="title" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">菜谱缩略图</label>
        <div class="layui-input-inline">
            <input type="text" id="thumb" name="thumb" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">视频简绍</label>
        <div class="layui-input-inline">
            <input type="text" id="videourl" name="videourl" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">菜谱简介</label>
        <div class="layui-input-inline">
            <input type="text" id="desc" name="desc" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">难度（0初级、1中级、3高级</label>
        <div class="layui-input-inline">
            <input type="text" id="difficulty" name="difficulty" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">耗时</label>
        <div class="layui-input-inline">
            <input type="text" id="costtime" name="costtime" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">提示</label>
        <div class="layui-input-inline">
            <input type="text" id="tip" name="tip" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">材料</label>
        <div class="layui-input-inline">
            <input type="text" id="yl" name="yl" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">分量</label>
        <div class="layui-input-inline">
            <input type="text" id="fl" name="fl" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">步骤</label>
        <div class="layui-input-inline">
            <input type="text" id="steptext" name="steptext" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">步骤图片，用#符号分隔</label>
        <div class="layui-input-inline">
            <input type="text" id="steppic" name="steppic" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">评分</label>
        <div class="layui-input-inline">
            <input type="text" id="grade" name="grade" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">多少人做过</label>
        <div class="layui-input-inline">
            <input type="text" id="up" name="up" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">浏览数</label>
        <div class="layui-input-inline">
            <input type="text" id="viewnum" name="viewnum" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label">收藏数</label>
        <div class="layui-input-inline">
            <input type="text" id="favnum" name="favnum" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label"></label>
        <div class="layui-input-inline">
            <input type="text" id="outdate" name="outdate" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>
 <div class="layui-form-item">
        <label class="layui-form-label"></label>
        <div class="layui-input-inline">
            <input type="text" id="status" name="status" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item layui-hide">
        <input type="button" lay-submit lay-filter="layuiadmin-app-form-submit" id="layuiadmin-app-form-submit" value="确认添加">
        <input type="button" lay-submit lay-filter="layuiadmin-app-form-edit" id="layuiadmin-app-form-edit" value="确认编辑">
    </div>
</div>

<script>

    $(function () {
           <!-- 父页面的值,赋值到当前页 -->
          
         $('#did').val(parent.data.did);
         $('#cid').val(parent.data.cid);
         $('#zid').val(parent.data.zid);
         $('#title').val(parent.data.title);
         $('#thumb').val(parent.data.thumb);
         $('#videourl').val(parent.data.videourl);
         $('#desc').val(parent.data.desc);
         $('#difficulty').val(parent.data.difficulty);
         $('#costtime').val(parent.data.costtime);
         $('#tip').val(parent.data.tip);
         $('#yl').val(parent.data.yl);
         $('#fl').val(parent.data.fl);
         $('#steptext').val(parent.data.steptext);
         $('#steppic').val(parent.data.steppic);
         $('#grade').val(parent.data.grade);
         $('#up').val(parent.data.up);
         $('#viewnum').val(parent.data.viewnum);
         $('#favnum').val(parent.data.favnum);
         $('#outdate').val(parent.data.outdate);
         $('#status').val(parent.data.status);
     });


    layui.use(['form'], function () {
        //监听提交
        layui.form.on('submit(layuiadmin-app-form-submit)', function (data) {
            data.field.id = parent.data.id;
            //data.field.id = parent.data.id;
            let result = Ajax.put(path + "/caipu/cpInfo/upd", data.field);
            let index = parent.layer.getFrameIndex(window.name);
            parent.layer.close(index);
            parent.layer.msg(result.msg);
            //重载表格
            parent.xijiaRenderTable();
        });
    });
</script>
</body>
</html>
