<!DOCTYPE html>
<html xmlns:th="http://www.springframework.org/schema/jdbc">
<head>
    <meta charset="utf-8">
    <title>兮家</title>
    <link rel="icon" href="/base/pic/icon/xijia.png" type="image/x-icon">           <!--在网页标题左侧显示图标-->
    <link rel="shortcut icon" href="/base/pic/icon/xijia.png" type="image/x-icon"> <!-- 在收藏夹显示图标-->
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <!-- 页面解析markdown为HTML显示需要的css -->
    <link rel="stylesheet" href="/components/editor/css/editormd.css">


    <script src='/base/js/jquery-3.4.1.min.js'></script>
    <script src="/base/js/app.js"></script>
    <script type="text/javascript" src="/components/editor/editormd.js"></script>

    <link rel="stylesheet" href="/components/editor/css/editormd.preview.min.css"/>
    <!-- markdown解析成HTML显示需要的js -->
    <script src="/components/editor/lib/marked.min.js"></script>
    <script src="/components/editor/lib/prettify.min.js"></script>
    <script src="/components/editor/lib/raphael.min.js"></script>
    <script src="/components/editor/lib/underscore.min.js"></script>
    <script src="/components/editor/lib/sequence-diagram.min.js"></script>
    <script src="/components/editor/lib/flowchart.min.js"></script>
    <script src="/components/editor/lib/jquery.flowchart.min.js"></script>
    <!-- 当前页js css-->
    <script src="/modules/admin/help-index.js"></script>
    <link rel="stylesheet" href="/modules/css/admin/help-index.css">
    <!-- jq 插件，鼠标效果 -->
    <!-- <script src="/components/fairy/js/batsCursor.js" type="text/javascript"></script>-->
    <!--  <script src=”js/fairyDustCursor.js” type=”text/javascript”></script>-->
    <!--  <script src=”js/emojiCursor.js” type=”text/javascript”></script>-->
    <!--  <script src=”js/bubbleCursor.js” type=”text/javascript”></script>-->
    <!--  <script src=”js/batsCursor.js” type=”text/javascript”></script>-->
    <!--  <script src=”js/snowflakeCursor.js” type=”text/javascript”></script>-->
</head>

<style>

</style>
<body style="background-color:#e5e8ff;">

<div class="layui-container scrollBar" style="width:20%;height:92%;overflow-y:auto;background-color:#ffffff;display: block; position: fixed; top:2%; left:4%; text-decoration: none;">

    <div style="font-size: 25px;margin-left: 10%;margin-top: 2%;">兮家手册
        <span style="font-size: 16px;"> (0.x)</span>
    </div>
    <hr/>
    <!-- 左菜单区  -->
    <div id="helpMenu" style="">
        <!-- 动态获取 -->
        <!--        <div>-->
        <!--            <div class="oneTitle">一级目录</div>-->
        <!--            <div value="" class="twoTitle" onclick="getHelp(this)" onmouseover="place(this)" onmouseout="moveAway(this)">二级目录</div>-->
        <!--            <div class="twoTitle" onclick="getHelp(this)" onmouseover="place(this)" onmouseout="moveAway(this)">二级目录</div>-->
        <!--            <div class="twoTitle" onclick="getHelp(this)" onmouseover="place(this)" onmouseout="moveAway(this)">二级目录</div>-->
        <!--        </div>-->
    </div>
    <!-- 内容区  -->
    <div class="scrollBar" style="width:56.8%;height:100%;overflow-y:auto;background-color:#ffffff;display: block; position: fixed; top:2%; left:24.6%; text-decoration: none;">
        <!-- 页面解析markdown为HTML显示 -->
        <div id="markdownToHTML" style="width: 90%">
            <textarea id="content" style="display:none;" placeholder="markdown语言"></textarea>
        </div>
    </div>

    <!-- 文档菜单 -->
    <div class="scrollBar" style="width:18%;height:100%;overflow-y:auto;background-color:#ffffff;display: block; position: fixed; top:2%; left:82%; text-decoration: none;">
        <div id="contentTitle" class="easyeditor-content" style="margin-left: 5%">
            <!-- 动态生成标题菜单 -->
        </div>
    </div>
</div>
</body>

<script>


    /**
     * 加载文章
     */
    var myEditor;

    function help(id) {
        let res = Ajax.get(path + "/admin/adminHelp/findById?id=" + id);
        // 先清空，再添加 textarea 用于存放回显的 md 源码, 解决在弹出框中进行预览时，第二次预览无法刷新的问题
        $('#markdownToHTML').empty();
        $('#markdownToHTML').append('<textarea id="content" style="display:none;" placeholder="markdown语言"></textarea>');
        //
        $("#content").val(res.data.content); //.replaceAll(">", "&gt;").replaceAll("<", "&lt;")
        myEditor = editormd.markdownToHTML("markdownToHTML", {
            htmlDecode: "style,script,iframe",
            emoji: true,  // 解析表情
            taskList: true,  // 解析列表
            tex: true,  // 默认不解析
            flowChart: true,  // 默认不解析
            sequenceDiagram: true  // 默认不解析
        });
        // 生成内容菜单
        generateContentList()
    }

</script>

<script language="javascript" type="text/javascript">


    // 加载菜单
    let res = Ajax.get(path + "/admin/adminHelp/findTree");
    initMenu(res.data);

</script>
</html>


