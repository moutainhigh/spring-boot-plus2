<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>简易Markdown编辑器</title>
</head>
<!-- layui样式 -->
<link rel="stylesheet" href="/components/easyeditor/layui/css/layui.css">
<!-- 部分自定义样式  -->
<link rel="stylesheet" href="/components/easyeditor/css/easyeditor.css">
<!-- 图标  -->
<link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_1531710_xb357ub1wmg.css"/>

<script src="/components/easyeditor/js/marked.min.js" type="text/javascript" charset="utf-8"></script>
<script src="/components/easyeditor/layui/layui.js"></script>
<script src="/base/js/app.js"></script>
<script src='/base/js/jquery-3.4.1.min.js'></script>

<body>

<!-- Markdown编辑器元素  textarea-->
<textarea id="L_content" name="content" placeholder="请输入发表内容" class="layui-textarea editor"></textarea>

<!-- 图片粘贴复制拖拽，Markdown编辑器元素  textarea id必须为 L_content，并且该引入必须在 textarea的下方，否则无法读取到 L_content 参数 -->
<script src="/components/easyeditor/mods/imgCopyPull.js"></script>
<script>
    var easyeditor;
    layui.config({
        base: '/components/easyeditor/mods/' //存放layui拓展模块的目录位置
    }).extend({
        easyeditor: 'easyeditor'
    }).use(['easyeditor'], function () {
        easyeditor = layui.easyeditor;
        //初始化Markdown编辑器
        easyeditor.init({
            elem: '.editor' //textarea 元素class
            , uploadUrl: path + '/aliOssFile/upload?filePath=image/markdown/'   // 图片上传地址
            , uploadSize: ''  // 限制的上传大小 单位kb 默认 1024k
            , style: 'fangge',// 内置样式  目前只有默认 和 方格两种
            //codeStyle:'layuiCode',  // 代码风格 layuiCode风格 与 默认风格
            // ,codeSkin:'notepad'    // 代码框样式 默认不填 与notepad 该属性与codeStyle='layuiCodexw'搭配使用
            // ,buttonColor:'#FFB800' // 自定义按钮颜色
            // ,hoverBgColor:'red'    // 自定义鼠标悬浮背景颜色
            // ,hoverColor:'#000000'  // 自定义鼠标悬浮按钮颜色
        });

        // upload 接口要求返回的数据格式
        //  {
        //  	code:0   ,//code=0代表文件保存成功 其他code值 则认为失败
        //  	msg:'图片保存失败' ,//搭配code使用 当code不等于 0 时,做出提示信息
        //  	url:'http://xxx.com/images/xxx.jpg' //图片上传成功后,图片的访问路径/保存路径,使用图片全路径
        //  }

    });
</script>
</body>
</html>
